<html>
    <head>
        <script
            type="text/javascript"
            src="../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
/**
 * Classe utilizada para instanciar o Objeto Vinculo.
 * @author Jefferson Uchoa Ponte
 * @version 1.0
 * @copyright UNILAB - Universidade da Integracao Internacional da Lusofonia Afro-Brasileira.
 * @package Modelo
 */
/**
 * Classe utilizada para intaciar objetos do tipo V&iacute;nculo.
 */
class Vinculo {
	
	/**
	 * Vari&aacute;vel que recebe o Id do V&iacute;nculo.
	 *
	 * @access private
	 * @var int
	 */
	private $id;
	
	/**
	 * Vari&aacute;vel utilizada para verificar se o V&iacute;nculo &eacute; avulso.
	 *
	 * @access private
	 * @var boolean
	 */
	private $avulso;
	
	/**
	 * Recebe um Objeto Usuario.
	 *
	 * @access private
	 * @var Usuario
	 */
	private $responsavel;
	
	/**
	 * Vari&aacute;vel que recebe a Data de Inicio do V&iacute;nculo.
	 *
	 * @access private
	 * @var DateTime
	 */
	private $inicioValidade;
	
	/**
	 * Vari&aacute;vel que recebe a Data Final do Vinculo.
	 *
	 * @access private
	 * @var DateTime
	 */
	private $finalValidade;
	
	/**
	 * Recebe a quantidade de Alimentos por Turno
	 * 
	 * @access private
	 * @var int
	 */
	private $quantidadeDeAlimentosPorTurno;
	
	/**
	 * Vari&aacute;vel que recebe a Descri&ccedil;&atilde;o do Vinculo.
	 *
	 * @access private
	 * @var string
	 */
	private $descricao;
	
	/**
	 * Recebe um Objeto Cart&atilde;o.
	 *
	 * @access private
	 * @var Cartao
	 */
	private $cartao;
	
	/**
	 * Vari&aacute;vel que recebe as Refei&ccedil;&otilde;es Restantes para o V&iacute;nculo.
	 *
	 * @access private
	 * @var int
	 */
	private $refeicoesRestantes;
	
	/**
	 * Vari&aacute;vel utilizada para verifica se o vinculo &eacute; isento.
	 *
	 *
	 * @access private
	 * @var boolean
	 */
	private $isento;
	
	/**
	 * Recebe um Objeto Isencao.
	 *
	 * @access public
	 * @var Isencao
	 */
	public $isencao;
	
	/**
	 * Fun&ccedil;&atilde;o Construtora da Classe Vinculo.
	 * O vinculo por padr&atilde;o n&atilde;o &eacute; Isento nem Avulso, recebendo False em ambas.
	 */
	public function Vinculo() {
		$this-&gt;setIsento ( false );
		$this-&gt;isencao = new Isencao ();
		$this-&gt;setAvulso ( false );
		$this-&gt;responsavel = new Usuario ();
		$this-&gt;cartao = new Cartao ();
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $refeicoesRestantes.
	 * Caso seja recebido outro tipo de vari&aacute;vel ser&aacute; convertido para inteiro.
	 *
	 * @param int $refeicoesRestantes        	
	 */
	public function setRefeicoesRestantes($refeicoesRestantes) {
		$this-&gt;refeicoesRestantes = intval ( $refeicoesRestantes );
	}
	
	/**
	 * Retorna o valor da vari&aacute;vel $refeicoesRestantes.
	 *
	 * @return int
	 */
	public function getRefeicoesRestantes() {
		return $this-&gt;refeicoesRestantes;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $isento.
	 * Retorna True caso o Vinculo seja Isento.
	 *
	 * @param boolean $isento        	
	 */
	public function setIsento($isento) {
		if ($isento)
			$this-&gt;isento = true;
		else
			$this-&gt;isento = false;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular os valores do Objeto Isen&ccedil;&atilde;o.
	 *
	 * @param Isencao $isencao        	
	 */
	public function setIsencao(Isencao $isencao) {
		$this-&gt;isencao = $isencao;
	}
	
	/**
	 * Retorna o valor do Objeto Isen&ccedil;&atilde;o.
	 *
	 * @return Isencao
	 */
	public function getIsencao() {
		return $this-&gt;isencao;
	}
	
	/**
	 * Verifica se o Vinculo &eacute; isento retornando True caso seja verdadeiro.
	 *
	 * @return boolean
	 */
	public function ehIsento() {
		if ($this-&gt;isento)
			return true;
		return false;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $inicioValidade.
	 *
	 * @param DateTime $inicioValidade        	
	 */
	public function setInicioValidade($inicioValidade) {
		$this-&gt;inicioValidade = $inicioValidade;
	}
	
	/**
	 * Retorna o valor da vari&aacute;vel $inicioValidade.
	 *
	 * @return DateTime
	 */
	public function getInicioValidade() {
		return $this-&gt;inicioValidade;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $finalValidade.
	 *
	 * @param DateTime $finalValidade        	
	 */
	public function setFinalValidade($finalValidade) {
		$this-&gt;finalValidade = $finalValidade;
	}
	
	/**
	 * Retorna o valor da vari&aacute;vel $finalValidade.
	 *
	 * @return DateTime
	 */
	public function getFinalValidade() {
		return $this-&gt;finalValidade;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $id.
	 *
	 * @param int $id        	
	 */
	public function setId($id) {
		$this-&gt;id = intval ( $id );
	}
	
	/**
	 * Retorna o valor da vari&aacute;vel $id.
	 *
	 * @return int
	 */
	public function getId() {
		return $this-&gt;id;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $avulso.
	 *
	 * @param boolean $avulso        	
	 */
	public function setAvulso($avulso) {
		if ($avulso)
			$this-&gt;avulso = true;
		else
			$this-&gt;avulso = false;
	}
	
	/**
	 * Retorna o valor da vari&aacute;vel $avulso.
	 *
	 * @return boolean
	 */
	public function isAvulso() {
		return $this-&gt;avulso;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor o Objeto responsavel que &eacute; um Usuario.
	 *
	 * @param Usuario $usuario        	
	 */
	public function setResponsavel(Usuario $usuario) {
		$this-&gt;responsavel = $usuario;
	}
	
	/**
	 * Retorna o valor do Objeto respons&aacute;vel.
	 *
	 * @return Usuario
	 */
	public function getResponsavel() {
		return $this-&gt;responsavel;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $quantidadeDeAlimentosPorTurno.
	 *
	 * @param int $quantidade        	
	 */
	public function setQuantidadeDeAlimentosPorTurno($quantidade) {
		$this-&gt;quantidadeDeAlimentosPorTurno = intval ( $quantidade );
	}
	
	/**
	 * Retorna o valor da vari&aacute;vel $quantidadeDeAlimentosPorTurno.
	 *
	 * @return int
	 */
	public function getQuantidadeDeAlimentosPorTurno() {
		return $this-&gt;quantidadeDeAlimentosPorTurno;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor da vari&aacute;vel $descricao.
	 *
	 * @param string $descricao        	
	 */
	public function setDescricao($descricao) {
		$descricao = preg_replace ( '/[^a-zA-Z0-9\s]/', '', $descricao );
		$this-&gt;descricao = $descricao;
	}
	
	/**
	 * Retorna o valor da vari&aacute;vel $descricao.
	 *
	 * @return string
	 */
	public function getDescricao() {
		return $this-&gt;descricao;
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para encapsular o valor do Objeto $cartao.
	 *
	 * @param Cartao $cartao        	
	 */
	public function setCartao(Cartao $cartao) {
		$this-&gt;cartao = $cartao;
	}
	
	/**
	 * Retorna o valor do Objeto $cartao.
	 *
	 * @return Cartao
	 */
	public function getCartao() {
		return $this-&gt;cartao;
	}
	
	/**
	 * Verifica, de acordo com os valores das vari&aacute;veis $inicioDaValidade e $fimDaValidade,
	 * se o vincuo est&aacute; ativo, retornando True.
	 *
	 * @return boolean
	 */
	public function isActive() {
		$tempoA = strtotime ( $this-&gt;getInicioValidade () );
		$tempoB = strtotime ( $this-&gt;getFinalValidade () );
		$tempoAgora = time ();
		if ($tempoAgora &gt; $tempoA &amp;&amp; $tempoAgora &lt; $tempoB)
			return true;
		return false;
	}
	
	/**
	 * 
	 * @return boolean
	 */
	public function invalidoParaAdicionar() {
		$time = strtotime ( date ( &quot;Y-m-d 01:00:00&quot; ) );
		$tempo1 = strtotime ( $this-&gt;getInicioValidade () );
		$tempo2 = strtotime ( $this-&gt;getFinalValidade () );
		if ($time &gt; $tempo1 || $time &gt; $tempo2)
			return true;
		return false;
	}
}

?&gt;</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>