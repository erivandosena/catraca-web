<html>
    <head>
        <script
            type="text/javascript"
            src="../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
/**
 * Classe utilizada para centralizar as demais Classes(DAO, Model, View, Util).
 * Esta classe ser&aacute; instaciada no index.php.
 * 
 * @author Alan Cleber Morais Gomes
 * @author Francisco Kleber Rodrigues de Castro
 * @version 1.0
 * @copyright UNILAB - Universidade da Integracao Internacional da Lusofonia Afro-Brasileira.
 * @package Controle
 */
class ResumoCompraController {
	
	/**
	 * Metodo principal utilizada para controlar o acesso a classe atrav&eacute;s do n&iacute;vel de acesso do usuario.
	 *
	 * @param Sessao $nivelDeAcesso
	 *        	Recebe uma Sess&atilde;o que cont&eacute;m o n&iacute;vel de acesso do usuario,
	 *        	esta Sess&atilde;o &eacute; iniciada na p&aacute;gina principal, durante o login do usuario.
	 */
	public static function main($nivel) {
		switch ($nivel) {
			case Sessao::NIVEL_SUPER :
				$resumo = new ResumoCompraController ();
				$resumo-&gt;telaResumo ();
				break;
			case Sessao::NIVEL_ADMIN :
				$resumo = new ResumoCompraController ();
				$resumo-&gt;telaResumo ();
				break;
			case Sessao::NIVEL_GUICHE :
				$resumo = new ResumoCompraController ();
				$resumo-&gt;telaResumo ();
				break;
			case Sessao::NIVEL_POLIVALENTE :
				$resumo = new ResumoCompraController ();
				$resumo-&gt;telaResumo ();
				break;
			default :
				UsuarioController::main ( $nivel );
				break;
		}
	}
	
	/**
	 * Gera a tala Resumo, esta classe cont&eacute;m vari&aacute;veis de sess&atilde;o
	 * que devem ser geradas na classe que realizar a chamada desta fun&ccedil;&atilde;o.
	 * 
	 * Pois ela foi cria para trabalhar em paralelo com a classe instaciadora,
	 * sem a nessedidade de javascript.
	 */
	public function telaResumo() {
		
		$transacao = @$_SESSION ['transacao'];
		$cartao = @$_SESSION ['cartao'];
		$usuario = @$_SESSION ['nome_usuario'];
		$tipo = @$_SESSION ['tipo_usuario'];
		$valorInserido = @$_SESSION ['valor_inserido'];
		$novoSaldo = @$_SESSION ['novo_saldo'];
		$saldoAtual = @$_SESSION ['saldo_anterior'];
		$autorizado = @$_SESSION ['autorizado'];
		
		echo '	&lt;div id=&quot;resumo&quot;&gt;
					&lt;div class=&quot;doze colunas borda relatorio&quot;&gt;				
						&lt;div class=&quot;doze colunas&quot;&gt;				
				
							&lt;div class=&quot;duas colunas&quot;&gt;
								&lt;a href=&quot;http://www.unilab.edu.br&quot;&gt;
									&lt;img class=&quot;imagem-responsiva centralizada&quot; src=&quot;img/logo-dti-preto.png&quot; style=&quot;width:12cm;height:2cm;&quot;&gt;
								&lt;/a&gt;
							&lt;/div&gt;
	
							&lt;div class=&quot;oito colunas&quot;&gt;
								&lt;h2 style=&quot;font-size:36px&quot;&gt;Restaurante Universit&aacute;rio&lt;/h2&gt;
							&lt;/div&gt;
							&lt;div class=&quot;duas colunas&quot;&gt;
								&lt;img class=&quot;imagem-responsiva centralizada&quot; src=&quot;img/logo-unilab2.png&quot; style=&quot;width:6cm;height:2cm&quot;&gt;
							&lt;/div&gt;
								&lt;hr class=&quot;um&quot;&gt;&lt;br&gt;
							&lt;/div&gt;';
		
		if ($cartao != &quot;&quot;) {
			echo '				&lt;div class=&quot;doze colunas dados-usuario&quot;&gt;				
								&lt;h1 id=&quot;titulo-dois&quot; class=&quot;centralizado&quot; style=&quot;font-size:28px&quot;&gt;Dados do Usu&aacute;rio&lt;/h1&gt;&lt;br&gt;				
								&lt;hr class=&quot;um&quot;&gt;									
							&lt;/div&gt;
							&lt;div class=&quot;doze colunas fundo-cinza1&quot; style=&quot;font-size:28px;&quot;&gt;
								&lt;p&gt;&lt;strong&gt;C&oacute;digo da Opera&ccedil;&atilde;o: &lt;/strong&gt;' . $transacao . '&lt;/p&gt;
								&lt;p&gt;&lt;strong&gt;Cart&atilde;o: &lt;/strong&gt;' . $cartao . '&lt;/p&gt;
								&lt;p&gt;&lt;strong&gt;Cliente: &lt;/strong&gt;' . $usuario . '&lt;/p&gt;
								&lt;p&gt;&lt;strong&gt;Tipo Usuario: &lt;/strong&gt;' . $tipo . '&lt;/p&gt;
								&lt;p&gt;&lt;strong&gt;Saldo Atual: R$ &lt;/strong&gt;' . number_format ( $saldoAtual, 2, ',', '.' ) . '&lt;/p&gt;					
							&lt;/div&gt;';
		} else {
			echo '	&lt;div class=&quot;doze colunas&quot;&gt;						
						&lt;div class=&quot;resumo&quot;&gt;
							&lt;span class=&quot;no-centro texto-azul2 centralizado&quot;&gt;Guich&ecirc; de Atendimento&lt;/span&gt;
							&lt;img class=&quot;imagem-responsiva&quot; src=&quot;img/Simbolo_da_UNILAB.png&quot; alt=&quot;&quot;&gt;					
						&lt;/div&gt;
					&lt;/div&gt;';
		}
		
		if ($valorInserido != &quot;&quot;) {
			echo '					&lt;div class=&quot;oito colunas&quot;&gt;
								&lt;span class=&quot;fundo-verde2 texto-branco&quot; style=&quot;font-size:60px;&quot;&gt;Cr&eacute;ditos a Inserir: R$ ' . number_format ( $valorInserido, 2, ',', '.' ) . '&lt;/span&gt;
							&lt;/div&gt;
										
							&lt;div class=&quot;doze colunas&quot;&gt;
								&lt;span style=&quot;font-size:36px;&quot;&gt;Novo Saldo: R$ ' . number_format ( $novoSaldo, 2, ',', '.' ) . '&lt;/span&gt;';
			if ($autorizado == false) {
				echo '			&lt;span class=&quot;centralizado fundo-verde2 texto-branco&quot; style=&quot;font-size:32px;&quot;&gt;&lt;strong&gt;Verifique sua compra e passe o cart&atilde;o para confirmar!&lt;/span&gt;';
			} else {
				echo '			&lt;span class=&quot;centralizado fundo-verde2 texto-branco&quot; style=&quot;font-size:48px;&quot;&gt;&lt;strong&gt;Cr&eacute;ditos inseridos com sucesso!&lt;/span&gt;';
			}
		}
		
		echo '				&lt;/div&gt;										
						&lt;/div&gt;
					&lt;/div&gt;

					
				
				';
	}
}

?&gt;</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>