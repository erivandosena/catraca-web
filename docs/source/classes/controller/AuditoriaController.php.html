<html>
    <head>
        <script
            type="text/javascript"
            src="../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
/** 
 * Classe utilizada para centralizar as demais Classes(DAO, Model, View, Util).
 * Esta classe ser&aacute; instaciada no index.php.
 * 
 * @author Jefferson Uchoa Ponte
 * @version 1.0
 * @copyright UNILAB - Universidade da Integracao Internacional da Lusofonia Afro-Brasileira.
 * @package Controle 
 */

/**
 * Classe respos&aacute;vel por auditar todos os acessos ao sistema Catraca,
 * &eacute; capturado a URL acessada e posteriormente inserida no Banco.
 */
class AuditoriaController {
	
	/**
	 * Metodo principal utilizada para controlar o acesso a classe atrav&eacute;s do n&iacute;vel de acesso do usuario.
	 *
	 * @param Sessao $nivelDeAcesso
	 *        	Recebe uma Sess&atilde;o que cont&eacute;m o n&iacute;vel de acesso do usuario,
	 *        	esta Sess&atilde;o &eacute; iniciada na p&aacute;gina principal, durante o login do usuario.
	 */
	public static function main($nivelDeAcesso) {
		switch ($nivelDeAcesso) {
			case Sessao::NIVEL_SUPER :
				$controller = new AuditoriaController ();
				$controller-&gt;telaAuditoria ();
				break;
			default :
				UsuarioController::main ( $nivelDeAcesso );
				break;
		}
	}
	
	/**
	 * Fun&ccedil;&atilde;o utilizada para gerar a tela respons&aacute;vel por exibir todos os acessos dos usu&aacute;rio no sistema.
	 */
	public function telaAuditoria() {
		echo '	&lt;div class=&quot;doze colunas borda&quot;&gt;
					&lt;div class=&quot;resolucao config&quot;&gt;
						&lt;form action=&quot;&quot;&gt;
							&lt;input type=&quot;datetime-local&quot; name=&quot;data_inicial&quot; /&gt;
							&lt;input type=&quot;datetime-local&quot; name=&quot;data_final&quot; /&gt;
							&lt;input type=&quot;text&quot; name=&quot;id_usuario&quot; /&gt;
							&lt;input type=&quot;hidden&quot; name=&quot;pagina&quot; value=&quot;auditoria&quot; /&gt;
							&lt;input type=&quot;submit&quot; /&gt;
						&lt;/form&gt;';
		
		if (isset ( $_GET ['data_inicial'] ) &amp;&amp; isset ( $_GET ['data_final'] ) &amp;&amp; isset ( $_GET ['id_usuario'] )) {
			$dataInicial = $_GET ['data_inicial'];
			$dataFinal = $_GET ['data_final'];
			$nome = $_GET ['id_usuario'];
			$dao = new DAO ();
			Auditoria::mostrar ( $dao-&gt;getConexao (), $nome, $dataInicial, $dataFinal );
		} else {
			$dao = new DAO ();
			Auditoria::mostrar ( $dao-&gt;getConexao () );
		}
		echo '	&lt;/div&gt;
				&lt;/div&gt;';
	}
}</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>